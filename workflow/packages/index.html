<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">

  <title>
    
    PPML
    
  </title>

  <!-- jQuery -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

  <!-- Fonts -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Josefin+Slab|PT+Mono|Raleway:400,500">

  <link rel="stylesheet" href="/css/font-awesome/css/fontawesome-pro-core.css">
  <link rel="stylesheet" href="/css/font-awesome/css/fontawesome-pro-brands.css">
  <link rel="stylesheet" href="/css/font-awesome/css/fontawesome-pro-solid.css">
  <link rel="stylesheet" href="/css/font-awesome/css/fontawesome-pro-regular.css">
  <link rel="stylesheet" href="/css/font-awesome/css/fontawesome-pro-light.css">

  <link rel="stylesheet" href="/css/blokk/blokkfont.css" type="text/css">
  
  <!-- Bootstrap 4 CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/css/main.css">

  <!-- Boostrap 4 JavaScript -->
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-108248643-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-108248643-1');
    </script>

  <script>
 $(document).ready(function() {
     $(document)
	 .find(".tab-content")
	 .map(function(i, t) {
	     var $children = $(t).children(".tab-pane");

	     var mh = $children
		 .map((i, e) => $(e).height())
		 .get()
		 .reduce((max, num) => Math.max(max, num));
	     
	     $children.each((i, e) => $(e).height(mh));	     
	 });
     
     $(".dropdown-select").on("click", "a", function(e) {
	 var $this = $(this);
	 $this.closest(".dropdown-select").find(".dropdown-select-label").first().text($this.text());
     });
     
     $(".table-hover").on("click", "tr[data-url]", function(e) {
	 window.open($(this).data("url"));
     })
 });    
</script>


  <meta name="viewport" content="width=device-width">
</head>


  <body>
   
    
    
    <nav class="fixed-top navbar navbar-expand navbar-light bg-light">
  <a class="navbar-brand d-none d-sm-inline" href="/">
    <div class="mb-0">Prevention Policy</div>
    <div class="text-uppercase">Modeling Lab</div>
  </a>
  
  <a class="navbar-brand d-inline d-sm-none" href="/">
    PPML
  </a>
  
  <div class="collapse navbar-collapse d-flex justify-content-start">
    <ul class="navbar-nav">
      <li class="nav-item ">
        <a class="nav-link" href="/">
	  <span class="d-none d-sm-inline">
	    Home
	  </span>
	  <span class="d-inline d-sm-none fas fa-home fa-fw fa-lg">
	  </span>
	</a>
      </li>
      
      <li class="nav-item ">
	<a class="nav-link" href="/projects">
	  <span class="d-none d-sm-inline">
            Projects
	  </span>
	  <span class="d-inline d-sm-none fas fa-folder-open fa-fw fa-lg">
	  </span>
	</a>
      </li>

      <li class="nav-item active dropdown">
	<a class="nav-link" href="/" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
	  <span class="d-none d-sm-inline">
	    Workflows
	  </span>
	  
	  <span class="d-inline d-sm-none fas fa-cogs fa-fw fa-lg"></span>

	  <span class="d-inline fas fa-caret-down"></span>
	</a>
	
	<div class="dropdown-menu">
	  <!-- <a class="dropdown-item" href="/workflow">Workflows</a> -->
	  <a class="dropdown-item" href="/workflow/git">
	    Git
	  </a>
	  
          <a class="dropdown-item" href="/workflow/rstudio">
	    RStudio
	  </a>
	  
	  <a class="dropdown-item active" href="/workflow/packages">
	    R packages
	  </a>
	</div>
      </li>
    </ul>
    
    <ul class="navbar-nav ml-auto">
      <li class="nav-item dropdown">
        <a class="nav-link" href="/" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <span class="fas fa-ellipsis-v"></span>
        </a>
	
        <div class="dropdown-menu dropdown-menu-right">
          <!-- <a class="dropdown-item " href="/about">About</a> -->
	  <a class="dropdown-item" href="/resources">
	    Resources
	  </a>

	  <div class="dropdown-divider"></div>
	  
          <a class="dropdown-item" target="_blank" href="https://github.com/PPML">
	    <span class="fab fa-github fa-fw"></span>
	    GitHub
	  </a>
	  
	  <a class="dropdown-item" target="_blank"
	     href="https://prevention-policy-modeling-lab.sph.harvard.edu">
	    <span class="fas fa-university fa-fw"></span>
	    Harvard
	  </a>
        </div>
      </li>
    </ul>
  </div>
</nav>

    
    <div class="main container-fluid">
      
      



<div class="row">
  <div class="col col-12 mt-4">

    <div class="d-flex"><div class="mx-auto"><h4 class="display-4 text-center mb-0">
    Developing R packages, <small class="text-muted d-sm-block">file structure, and development within RStudio</small>
    </h4></div></div>
    
    <hr class="w-50 mx-auto">

    
    
    
    
    

    
    




<div class="example row">
  <div class="col col-12 col-md-6 mb-3 mb-md-0">
    
    <h3>
      Often used RStudio shortcuts
    </h3>

    
    
    

<div class="flow-text">
  
  <p>When working within RStudio the following shortcuts will greatly speed up your
package development cycle. You will be able to make changes without fear of
lingering out-dated functions or variables, quickly test changes against unit
tests, and build package documentation using Roxygen.</p>

<p>To use these shortcuts double-check that you have the latest version of the
devtools package installed, <code>install.packages("devtools")</code>.</p>

<p>Notice that many of these shortcuts use the first letter of their purpose,
i.e. the shortcut for <span class="font-weight-bold">d</span>ocumenting your
package uses the <kbd>D</kbd> key. All the shortcuts start with the
<kbd>command</kbd> + <kbd>shift</kbd>.</p>

<p>You will most likey run the shortcuts in the presented order.</p>

  
</div>



    
    
  </div>

  <div class="col col-12 col-md-6">
    
    
    <dl class="flow-text">
  <dt class="py-2">
    <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>T</kbd>
  </dt>
  <dd class="py-2">
    This shortcut <span class="font-weight-bold">t</span>ests your package using
    the <code>testthat</code> package. If you are not familiar with unit testing
    or have not setup your package to use <code>testthat</code> you can skip
    this step, for now.
  </dd>
  
  <dt class="py-2">
    <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>D</kbd>
  </dt>
  <dd class="py-2">
    <p>
      This shortcut <span class="font-weight-bold">d</span>ocuments your
      package. The Roxygen blocks you have written will be built into documentation
      files. These files may be found in the top-level <code>man/</code> folder.
    </p>

    <p>
      When building your package's documentation, any changed files will be
      listed under the RStudio Build tab. Look for <code>"Writing &lt;name of
      file&gt;"</code>.
    </p>
  </dd>

  <dt class="py-2">
    <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>L</kbd>
  </dt>
  <dd class="py-2">
    This shortcut <span class="font-weight-bold">l</span>oads your package. To
    begin with, you may think of loading as comparable to running
    <code>library(&lt;your package name&gt;)</code>.
  </dd>  
</dl>



    
    
    
  </div>
    
</div>

    

    
    <hr class="w-50 mx-auto">
    
    
    

    
    




<div class="example row">
  <div class="col col-12 col-md-6 mb-3 mb-md-0">
    
    <h3>
      Less used RStudio shortcuts
    </h3>

    
    
    

<div class="flow-text">
  
  <p>These shortcuts may not be run as consistenly as the ones above. However,
both shortcuts are useful and important. Be sure to occassionally run the check
shortcut as problems have a tendency to build up over time.</p>

  
</div>



    
    
  </div>

  <div class="col col-12 col-md-6">
    
    
    <dl class="flow-text">
  <dt class="py-2">
    <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>E</kbd>
  </dt>
  <dd class="py-2">
    This shortcut checks your package to make sure certain criteria are met (is
    <span class="font-weight-bold">e</span>verything okay?). These criteria
    range from a valid package name to proper S3 method declarations to
    NAMESPACE format. If you intend to submit your package to CRAN you need to
    be sure your package meets these criteria prior to submission. Furthermore,
    even if you do not plan to submit to CRAN, satisfying these criteria is
    probably a good idea as this will ensure others can successfully install and
    work with your package.
  </dd>

  <dt class="py-2">
    <kbd>command</kbd> + <kbd>shift</kbd> + <kbd>B</kbd>
  </dt>
  <dd class="py-2">
    <p>
      This shortcut will <span class="font-weight-bold">b</span>uild your package,
      restart the current R session, and load your newly installed package via
      <code>library</code>.
    </p>
    <p>
      Building and installing your package allows you to install the development
      version of your package on your computer. As you update your package you
      may find yourself simulatenously updating scripts or other packages. These
      scripts and packages will be searching your R libraries for
      the package. In order for them to use your updated package be sure to
      run this shortcut.
    </p>
  </dd>
</dl>


    
    
    
  </div>
    
</div>

    

    
    <hr class="w-50 mx-auto">
    
    
    

    
    




<div class="example row">
  <div class="col col-12 col-md-6 mb-3 mb-md-0">
    
    <h3>
      Package structure
    </h3>

    
    
    

<div class="flow-text">
  
  <div class="flow-text">
  <p>
    Explore the folders and files of an R package by clicking on folders and
    files.
  </p>

  <div class="tab-content">
    <div class="tab-pane fade show active" id="pkg-description">
      <p>
	The <code>DESCRIPTION</code> file contains information about your
	package. This includes information about you the author, links to any
	vignettes you might write, a list of other packages required to use your
	packge, and more.
      </p>
    </div>

    <div class="tab-pane fade" id="pkg-inst">
      <p>
	The <code>inst/</code> directory holds miscellaneous files. Your package
	may need static files, scripts or libraries written in other programming
	languages, or other meta data not understood by the package structure.
      </p>
      
      <p>
	The folders and files within the <code>inst/</code> folder are installed
	in the top-level of the package. Thus, to access these files within your
	package functions you can use,
	
	<div class="mb-3">
	  <code>system.file("&lt;file name&gt;", package = "&lt;package name&gt;")</code>
	</div>
	
	Notice that the <code>inst/</code> directory is excluded.
      </p>
    </div>

    <div class="tab-pane fade" id="pkg-man">
      <p>
	The <code>man/</code> folders holds the package documentation files. The
	R documentation files may be written manually using a simple markup
	language. If you have ever worked with <span class="latex">L<sup>a</sup>T<sub>e</sub>X</span> you will find the R
	documentation markup language quite similar.
      </p>
      
      <p>
	However, instead of writing documentation files by hand, using Roxygen
	is highly recommended. From each block of roxygen, with a couple
	exceptions, a new file is created in the <code>man/</code>
	folder. Review the document shortcut above.
      </p>
    </div>

    <div class="tab-pane fade" id="pkg-namespace">
      <p>
	The <code class="text-uppercase">namespace</code> file specifies which
	functions or variables are exported, made available to the programmer, and
	which functions or variables are imported from other packages.
      </p>
      
      <p>
	Like your documentation files the <code class="text-uppercase">namespace</code> file could be edited by
	hand. However, again, roxygen is recommended. The <code>@import</code>
	or <code>@importFrom</code> and <code>@export</code> tags may be
	included in any roxygen block and, intuitively, import and export
	variables and functions. While these tags may be placed in any roxygen
	block, please organize your imports by creating a file, <code>R/&lt;your
	package name&gt;.R</code>.
      </p>
      
      <p>
	The file will look something like this. 
	<div>
	  <code>#' @import &lt;package name&gt;</code><br />
	  <code>"_PACKAGE"</code>
	</div>
      </p>
      
      <p>
	Place all your import tags in this file. For now, 
	The <code>@export</code> tag needs to be placed in each corresponding
	roxygen block.
      </p>
    </div>

    <div class="tab-pane fade" id="pkg-r">
      <p>
	The <code>R/</code> folder contains all of your R scripts.
      </p>
    </div>

    <div class="tab-pane fade" id="pkg-tests">
      <p>
	The <code>tests/</code> folder contains your package unit tests. This
	folder should be generated with <code>devtools::use_testthat</code>.
	Once created you will find a <code>testthat.R</code> file and a
	<code>testthat/</code> sub-directory within the new <code>tests/</code>
	folder.
      </p>
      
      <p>
	The tests you write will go into the <code>testthat/</code>
	sub-directory. Writing tests is touched on in a separate section.
      </p>
    </div>

    <div class="tab-pane fade" id="pkg-vignettes">
      <p>
	The <code>vignettes/</code> folder contains your package's long-form
	documentation, vignettes. Vignettes are an excellent way of introducing
	programmers to your packages. For now, see
	<code>?devtools::use_vignette</code>, more will come.
      </p>
    </div>
  </div>
</div>

  
</div>



    
    
  </div>

  <div class="col col-12 col-md-6">
    
    
    <div class="card w-50 bg-light my-2 p-2">
  <ul class="nav d-block flow-text package-structure" role="tab-list">
    <li class="mb-1">
      <a class="active" data-toggle="tab" data-target="#pkg-description" role="tab">
	<span class="fal fa-file fa-fw"></span>
	<span class="text-uppercase">description</span>
      </a>
    </li>
    
    <li class="mb-1">
      <a data-toggle="tab" data-target="#pkg-inst" role="tab">
	<span class="fa fa-folder fa-fw"></span>
	<span>inst</span>
      </a>
    </li>

    <li class="mb-1">
      <a data-toggle="tab" data-target="#pkg-man" role="tab">
	<span class="fa fa-folder fa-fw"></span>
	<span>man</span>
      </a>
    </li>

    <li class="mb-1">
      <a data-toggle="tab" data-target="#pkg-namespace" role="tab">
	<span class="fal fa-file fa-fw"></span>
	<span class="text-uppercase">namespace</span>
      </a>
    </li>

    <li class="mb-1">
      <a data-toggle="tab" data-target="#pkg-r" role="tab">
	<span class="fa fa-folder fa-fw"></span>
	<span class="text-uppercase">r</span>
      </a>
    </li>

    <li class="mb-1">
      <a data-toggle="tab" data-target="#pkg-tests" role="tab">
	<span class="fa fa-folder fa-fw"></span>
	<span>tests</span>
      </a>
    </li>

    <li>
      <a data-toggle="tab" data-target="#pkg-vignettes" role="tab">
	<span class="fa fa-folder fa-fw"></span>
	<span>vignettes</span>
      </a>
    </li>
  </ul>
</div>


    
    
    
  </div>
    
</div>

    

    
    <hr class="w-50 mx-auto">
    
    
    

    
    




<div class="example row">
  <div class="col col-12 col-md-6 mb-3 mb-md-0">
    
    <h3>
      The DESCRIPTION file
    </h3>

    
    
    

<div class="flow-text">
  
  <p>
  The <code>DESCRIPTION</code> file contains basic information about your package.
  This information is specified by a predefined set of fields. Some of these
  headers are required and others are only optional.
</p>

<div class="tab-content">
  <p class="tab-pane fade show active" id="desc-package">
    The package description field ...
  </p>
  
  <p class="tab-pane fade" id="desc-type">
    The type description field ...
  </p>

  <p class="tab-pane fade" id="desc-title">
    The title description field ...
  </p>

  <p class="tab-pane fade" id="desc-version">
    The version description field ...
  </p>

  <p class="tab-pane fade" id="desc-author">
    The author description field ...
  </p>

  <p class="tab-pane fade" id="desc-maintainer">
    The maintainer description field ...
  </p>

  <p class="tab-pane fade" id="desc-description">
    The description description field ...
  </p>

  <p class="tab-pane fade" id="desc-license">
    The license description field ...
  </p>

  <p class="tab-pane fade" id="desc-encoding">
    The encoding description field ...
  </p>

  <p class="tab-pane fade" id="desc-lazydata">
    The lazydata description field ...
  </p>

  <p class="tab-pane fade" id="desc-suggests">
    The suggests description field ...
  </p>
</div>

  
</div>



    
    
  </div>

  <div class="col col-12 col-md-6">
    
    
    <div class="nav card m-2 p-2 bg-white flow-text description-file">
  <div>
    <span class="field active" data-target="#desc-package" data-toggle="tab">Package</span>
    &lt;package name&gt;
  </div>

  <div>
    <span class="field" data-target="#desc-type" data-toggle="tab">Type</span>
    Package
  </div>

  <div>
    <span class="field" data-target="#desc-title" data-toggle="tab">Title</span>
    What the Package Does (Title Case)
  </div>

  <div>
    <span class="field" data-target="#desc-version" data-toggle="tab">Version</span>
    0.1.0
  </div>

  <div>
    <span class="field" data-target="#desc-author" data-toggle="tab">Author</span>
    Who wrote it
  </div>

  <div>
    <span class="field" data-target="#desc-maintainer" data-toggle="tab">Maintainer</span>
    The package maintainer &lt;yourself@somewhere.net&gt;
  </div>

  <div>
    <span class="field" data-target="#desc-description" data-toggle="tab">Description</span>
    More about what it does (maybe more than one line).<br> Use four spaces when
    indenting paragraphs within the Description.
  </div>

  <div>
    <span class="field" data-target="#desc-license" data-toggle="tab">License</span>
    What license is it under?
  </div>

  <div>
    <span class="field" data-target="#desc-encoding" data-toggle="tab">Encoding</span>
    UTF-8
  </div>

  <div>
    <span class="field" data-target="#desc-lazydata" data-toggle="tab">LazyData</span>
    true
  </div>
  
  <div>
    <span class="field" data-target="#desc-suggests" data-toggle="tab">Suggests</span>
    testthat
  </div>
</div>


    
    
    
  </div>
    
</div>

    

    
    <hr class="w-50 mx-auto">
    

    
    
  </div>
</div>

      
    </div>
  </body>
</html>
